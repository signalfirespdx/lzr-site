import{K as H,a as v,g as le,w as W,q as X,u as G,e as j,x as ue,o as J,L as fe,y as he,O as de,P as pe,b as me}from"./web-8brcLJOj.js";function ge(){let t=new Set;function e(r){return t.add(r),()=>t.delete(r)}let n=!1;function s(r,o){if(n)return!(n=!1);const a={to:r,options:o,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const c of t)c.listener({...a,from:c.location,retry:h=>{h&&(n=!0),c.navigate(r,{...o,resolve:!1})}});return!a.defaultPrevented}return{subscribe:e,confirm:s}}let U;function Q(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),U=window.history.state._depth}Q();function Me(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function Ue(t,e){let n=!1;return()=>{const s=U;Q();const r=s==null?null:U-s;if(n){n=!1;return}r&&e(r)?(n=!0,window.history.go(-r)):t()}}const ye=/^(?:[a-z0-9]+:)?\/\//i,we=/^\/+|(\/)\/+$/g,ve="http://sr";function E(t,e=!1){const n=t.replace(we,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function B(t,e,n){if(ye.test(e))return;const s=E(t),r=n&&E(n);let o="";return!r||e.startsWith("/")?o=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?o=s+r:o=r,(o||"/")+E(e,!o)}function Pe(t,e){if(t==null)throw new Error(e);return t}function Re(t,e){return E(t).replace(/\/*(\*.*)?$/g,"")+E(e)}function V(t){const e={};return t.searchParams.forEach((n,s)=>{s in e?Array.isArray(e[s])?e[s].push(n):e[s]=[e[s],n]:e[s]=n}),e}function Y(t,e,n){const[s,r]=t.split("/*",2),o=s.split("/").filter(Boolean),a=o.length;return c=>{const h=c.split("/").filter(Boolean),p=h.length-a;if(p<0||p>0&&r===void 0&&!e)return null;const i={path:a?"":"/",params:{}},d=f=>n===void 0?void 0:n[f];for(let f=0;f<a;f++){const g=o[f],m=g[0]===":",y=m?h[f]:h[f].toLowerCase(),P=m?g.slice(1):g.toLowerCase();if(m&&F(y,d(P)))i.params[P]=y;else if(m||!F(y,P))return null;i.path+=`/${y}`}if(r){const f=p?h.slice(-p).join("/"):"";if(F(f,d(r)))i.params[r]=f;else return null}return i}}function F(t,e){const n=s=>s===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Se(t){const[e,n]=t.pattern.split("/*",2),s=e.split("/").filter(Boolean);return s.reduce((r,o)=>r+(o.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function Z(t){const e=new Map,n=le();return new Proxy({},{get(s,r){return e.has(r)||H(n,()=>e.set(r,v(()=>t()[r]))),e.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())},has(s,r){return r in t()}})}function be(t,e){const n=new URLSearchParams(t);Object.entries(e).forEach(([r,o])=>{o==null||o===""||o instanceof Array&&!o.length?n.delete(r):o instanceof Array?(n.delete(r),o.forEach(a=>{n.append(r,String(a))})):n.set(r,String(o))});const s=n.toString();return s?`?${s}`:""}function I(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),s=t.slice(e.index+e[0].length);const r=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=e[1]),s=s.slice(e[0].length);return I(s).reduce((o,a)=>[...o,...r.map(c=>c+a)],[])}const xe=100,Ee=X(),ee=X(),A=()=>Pe(W(Ee),"<A> and 'use' router primitives can be only used inside a Route."),Ae=()=>W(ee)||A().base,We=t=>{const e=Ae();return v(()=>e.resolvePath(t()))},Ie=t=>{const e=A();return v(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},Ce=()=>A().navigatorFactory(),te=()=>A().location,Ne=(t,e)=>{const n=te(),s=v(()=>I(t()).map(r=>Y(r,void 0,e)));return v(()=>{for(const r of s()){const o=r(n.pathname);if(o)return o}})},De=()=>A().matches,ke=()=>{const t=te(),e=Ce(),n=(s,r)=>{const o=G(()=>be(t.search,s)+t.hash);e(o,{scroll:!1,resolve:!1,...r})};return[t.query,n]};function Le(t,e=""){const{component:n,preload:s,load:r,children:o,info:a}=t,c=!o||Array.isArray(o)&&!o.length,h={key:t,component:n,preload:s||r,info:a};return ne(t.path).reduce((p,i)=>{for(const d of I(i)){const f=Re(e,d);let g=c?f:f.split("/*",1)[0];g=g.split("/").map(m=>m.startsWith(":")||m.startsWith("*")?m:encodeURIComponent(m)).join("/"),p.push({...h,originalPath:i,pattern:g,matcher:Y(g,!c,t.matchFilters)})}return p},[])}function Oe(t,e=0){return{routes:t,score:Se(t[t.length-1])*1e4-e,matcher(n){const s=[];for(let r=t.length-1;r>=0;r--){const o=t[r],a=o.matcher(n);if(!a)return null;s.unshift({...a,route:o})}return s}}}function ne(t){return Array.isArray(t)?t:[t]}function _e(t,e="",n=[],s=[]){const r=ne(t);for(let o=0,a=r.length;o<a;o++){const c=r[o];if(c&&typeof c=="object"){c.hasOwnProperty("path")||(c.path="");const h=Le(c,e);for(const p of h){n.push(p);const i=Array.isArray(c.children)&&c.children.length===0;if(c.children&&!i)_e(c.children,p.pattern,n,s);else{const d=Oe([...n],s.length);s.push(d)}n.pop()}}}return n.length?s:s.sort((o,a)=>a.score-o.score)}function M(t,e){for(let n=0,s=t.length;n<s;n++){const r=t[n].matcher(e);if(r)return r}return[]}function je(t,e,n){const s=new URL(ve),r=v(i=>{const d=t();try{return new URL(d,s)}catch{return console.error(`Invalid path ${d}`),i}},s,{equals:(i,d)=>i.href===d.href}),o=v(()=>r().pathname),a=v(()=>r().search,!0),c=v(()=>r().hash),h=()=>"",p=J(a,()=>V(r()));return{get pathname(){return o()},get search(){return a()},get hash(){return c()},get state(){return e()},get key(){return h()},query:n?n(p):Z(p)}}let R;function Ke(){return R}function Te(t){}function ze(t,e,n,s={}){const{signal:[r,o],utils:a={}}=t,c=a.parsePath||(l=>l),h=a.renderPath||(l=>l),p=a.beforeLeave||ge(),i=B("",s.base||"");if(i===void 0)throw new Error(`${i} is not a valid base path`);i&&!r().value&&o({value:i,replace:!0,scroll:!1});const[d,f]=j(!1);let g;const m=(l,u)=>{u.value===y()&&u.state===C()||(g===void 0&&f(!0),R=l,g=u,he(()=>{g===u&&(P(g.value),re(g.state),pe(),N[1](w=>w.filter(S=>S.pending)))}).finally(()=>{g===u&&de(()=>{R=void 0,l==="navigate"&&ce(g),f(!1),g=void 0})}))},[y,P]=j(r().value),[C,re]=j(r().state),L=je(y,C,a.queryWrapper),O=[],N=j([]),D=v(()=>typeof s.transformUrl=="function"?M(e(),s.transformUrl(L.pathname)):M(e(),L.pathname)),k=()=>{const l=D(),u={};for(let w=0;w<l.length;w++)Object.assign(u,l[w].params);return u},se=a.paramsWrapper?a.paramsWrapper(k,e):Z(k),K={pattern:i,path:()=>i,outlet:()=>null,resolvePath(l){return B(i,l)}};return ue(J(r,l=>m("native",l),{defer:!0})),{base:K,location:L,params:se,isRouting:d,renderPath:h,parsePath:c,navigatorFactory:ae,matches:D,beforeLeave:p,preloadRoute:ie,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:N};function oe(l,u,w){G(()=>{if(typeof u=="number"){u&&(a.go?a.go(u):console.warn("Router integration does not support relative routing"));return}const S=!u||u[0]==="?",{replace:q,resolve:b,scroll:$,state:x}={replace:!1,resolve:!S,scroll:!0,...w},_=b?l.resolvePath(u):B(S&&L.pathname||"",u);if(_===void 0)throw new Error(`Path '${u}' is not a routable path`);if(O.length>=xe)throw new Error("Too many redirects");const T=y();(_!==T||x!==C())&&(fe||p.confirm(_,w)&&(O.push({value:T,replace:q,scroll:$,state:C()}),m("navigate",{value:_,state:x})))})}function ae(l){return l=l||W(ee)||K,(u,w)=>oe(l,u,w)}function ce(l){const u=O[0];u&&(o({...l,replace:u.replace,scroll:u.scroll}),O.length=0)}function ie(l,u){const w=M(e(),l.pathname),S=R;R="preload";for(let q in w){const{route:b,params:$}=w[q];b.component&&b.component.preload&&b.component.preload();const{preload:x}=b;u&&x&&H(n(),()=>x({params:$,location:{pathname:l.pathname,search:l.search,hash:l.hash,query:V(l),state:null,key:""},intent:"preload"}))}R=S}}function He(t,e,n,s){const{base:r,location:o,params:a}=t,{pattern:c,component:h,preload:p}=s().route,i=v(()=>s().path);h&&h.preload&&h.preload();const d=p?p({params:a,location:o,intent:R||"initial"}):void 0;return{parent:e,pattern:c,path:i,outlet:()=>h?me(h,{params:a,location:o,data:d,get children(){return n()}}):n(),resolvePath(g){return B(r.path(),g,i())}}}const Be="modulepreload",qe=function(t,e){return new URL(t,e).href},z={},Xe=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let a=function(i){return Promise.all(i.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const c=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");r=a(n.map(i=>{if(i=qe(i,s),i in z)return;z[i]=!0;const d=i.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!s)for(let y=c.length-1;y>=0;y--){const P=c[y];if(P.href===i&&(!d||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Be,d||(m.as="script"),m.crossOrigin="",m.href=i,p&&m.setAttribute("nonce",p),document.head.appendChild(m),d)return new Promise((y,P)=>{m.addEventListener("load",y),m.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${i}`)))})}))}function o(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return r.then(a=>{for(const c of a||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};export{Ee as R,Xe as _,ze as a,ee as b,_e as c,He as d,ge as e,Q as f,Ke as g,Ie as h,te as i,E as j,Me as k,Ce as l,ve as m,Ue as n,Ne as o,De as p,ke as q,Te as s,We as u};
