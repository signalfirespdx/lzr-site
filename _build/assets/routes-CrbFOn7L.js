import{C as l,a as i,n as m}from"./web-B2jywrhc.js";function g(r){return r.split(",").map(e=>{const t=e.trim();return t.startsWith("-")?{field:t.slice(1),direction:"desc"}:{field:t,direction:"asc"}})}function d(r,e){const t=r.split("/").pop();return{...e.frontmatter,metadata:{path:r,filename:t,name:t.replace(/\.\w+$/,"")}}}async function y(r){return Promise.all(Object.entries(r).map(async([e,t])=>{const c=await t();return d(e,c)}))}function C(r,e){if(!r)return[];let t=r;if(e?.filter&&(t=t.filter(e.filter)),e?.sort){const c=g(e.sort);t=[...t].sort((o,n)=>{for(const{field:a,direction:p}of c){const s=o[a],f=n[a];if(s===f)continue;const u=s>f?1:-1;return p==="asc"?u:-u}return 0})}return t}function R(r,e){const[t]=l(()=>r,n=>y(n)),c=i(()=>{const n=t();return n?n.map(a=>({...a,Content:r[a.metadata.path]?m(r[a.metadata.path]):void 0})):[]});return[i(()=>{const n=c();return n?C(n,e):[]})]}function h(r,e){const[t]=l(()=>r,async o=>d(o,await e()));return[i(()=>{const o=t();return o?{...o,Content:m(e)}:null})]}export{h as a,R as c};
